---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import ProductCard from "../components/ProductCard.astro";
import { getCollection } from "astro:content";

const products = await getCollection("products");
---

<Layout title="Ofertas | Farmacia AlbiÃ±ana">
    <Header />
    <main class="products-page">
        <section class="section">
            <div class="container">
                <h1 class="page-title title-gradient">Nuestras Ofertas</h1>
                <p class="page-subtitle">
                    Descubre los mejores productos al mejor precio.
                </p>

                <div class="products-grid">
                    {
                        products.map((product) => (
                            <ProductCard
                                title={product.data.title}
                                price={product.data.price}
                                discountPrice={product.data.discountPrice}
                                description={product.data.description}
                            />
                        ))
                    }
                </div>
            </div>
        </section>
    </main>
    <Footer />
</Layout>

<style>
    .products-page {
        padding-top: var(--header-height);
        min-height: 80vh;
    }

    .page-title {
        font-size: 3rem;
        margin-bottom: var(--spacing-sm);
        text-align: center;
    }

    .page-subtitle {
        text-align: center;
        color: #666;
        margin-bottom: var(--spacing-xl);
        font-size: 1.2rem;
    }

    .products-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: var(--spacing-lg);
    }
</style>
